/* style.css — متوافق مع الواجهة الحالية + مودال فيديو البداية + سلايد البنود */

/* ========== الأساسيات ========== */
@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap');

:root{
  --brand-indigo: #4f46e5;
  --brand-purple: #7c3aed;
  --ring: 0 0 0 1px rgba(0,0,0,.06);
  --bg-soft: #f9fafb;
  --text-muted: #6b7280;
}

*,
*::before,
*::after{ box-sizing: border-box; }

html{ scroll-behavior: smooth; }

body{
  font-family: 'Cairo', system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  background: #f8fafc;
  color: #111827;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.body-lock{ overflow: hidden; }
html.body-locked{ overflow: hidden; } /* يُستخدم عند فتح مودال الفيديو */

/* ========== بطاقات عامة ========== */
.card{
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease, background-color .2s ease;
  will-change: transform, box-shadow;
}
.card:hover{
  transform: translateY(-4px);
  box-shadow: 0 16px 30px rgba(0,0,0,.08);
  border-color: rgba(0,0,0,.08);
}

/* ========== روابط التنقل ========== */
.nav-link{
  position: relative;
  padding-inline: .25rem;
}
.nav-link:is(:hover,:focus){ outline: none; }
.nav-link[aria-current="page"]{ color: var(--brand-indigo) !important; }
.nav-link[aria-current="page"]::after{
  content: "";
  position: absolute;
  inset-inline-start: 0;
  inset-inline-end: 0;
  bottom: -10px;
  height: 3px;
  border-radius: 2px;
  background: linear-gradient(90deg, var(--brand-indigo), var(--brand-purple));
}

/* قائمة الجوال (حركة بسيطة) */
#mobileMenu{
  transition: height .25s ease, opacity .25s ease;
}
#mobileMenu[data-open="true"]{ opacity: 1; }
#mobileMenu[data-open="false"]{ opacity: 0; }

/* ========== أزرار قابلة لإعادة الاستخدام ========== */
.btn{
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  border-radius: .75rem;
  padding: .625rem 1rem;
  font-weight: 700;
  font-size: .9rem;
  transition: transform .15s ease, box-shadow .2s ease, opacity .2s ease, background-color .2s ease, color .2s ease;
  will-change: transform, box-shadow;
}
.btn:active{ transform: translateY(1px) scale(.99); }
.btn-primary{ color: #fff; background: #111827; }
.btn-primary:hover{ box-shadow: 0 10px 20px rgba(17,24,39,.18); }

/* ========== المودال العام ========== */
#serviceModal{ backdrop-filter: blur(6px); }
#serviceModal .modal-card{ border-radius: 1rem; overflow: hidden; }
#closeServiceModal{ line-height: 1; }

/* ========== صور الشعار ========== */
.brand-logo{
  inline-size: 3rem;
  block-size: 3rem;
  border-radius: 1rem;
  overflow: hidden;
  background: #fff;
  box-shadow: var(--ring);
}
.brand-logo img{ inline-size: 100%; block-size: 100%; object-fit: contain; }

/* ========== تحسينات للعناوين المقطعية ========== */
.section-title{ position: relative; font-weight: 800; }
.section-title::after{
  content: "";
  position: absolute;
  inset-inline: 50% auto;
  transform: translateX(-50%);
  bottom: -10px;
  inline-size: 64px;
  block-size: 4px;
  border-radius: 2px;
  background: linear-gradient(90deg, var(--brand-indigo), var(--brand-purple));
}

/* ========== شبكة الأخبار والفعاليات ========== */
#featuredNewsContainer article{
  transition: transform .25s ease, box-shadow .25s ease;
}
#featuredNewsContainer article:hover{
  transform: translateY(-4px);
  box-shadow: 0 16px 30px rgba(0,0,0,.08);
}

#upcomingEventsContainer > div{
  transition: background-color .2s ease, box-shadow .2s ease;
}
#upcomingEventsContainer > div:hover{
  background-color: #eef2ff; /* indigo-50 تقريباً */
  box-shadow: 0 6px 16px rgba(0,0,0,.06);
}

/* ========== تحسينات للفيديو داخل الهيرو ========== */
.hero video,
section video{ pointer-events: none; }
.hero video{ object-position: center; }

/* ========== زر الرجوع ========== */
#backButton{
  transition: background-color .2s ease, box-shadow .2s ease, color .2s ease, border-color .2s ease;
}
#backButton:hover{ box-shadow: 0 8px 18px rgba(0,0,0,.06); }

/* ========== التذييل ========== */
footer .divider{ block-size: 1px; background: rgba(0,0,0,.06); }

/* ========== أيقونات ========== */
i{ vertical-align: middle; }

/* ========== حركات عامة ========== */
.animate-fade{ animation: fade .25s ease both; }
@keyframes fade{
  from{ opacity:.4; transform: translateY(6px); }
  to{ opacity:1; transform: none; }
}

/* تقليل الحركة لمن يفضّل ذلك */
@media (prefers-reduced-motion: reduce){
  html{ scroll-behavior: auto; }
  .animate-fade{ animation: none; }
  #mobileMenu{ transition: none; }
  .card, .btn, #featuredNewsContainer article{ transition: none; }
}

/* ========== الوضع الليلي (بإضافة كلاس .dark على html) ========== */
html.dark body{ color: #e5e7eb; background: #0b1220; }
html.dark .card:hover{
  box-shadow: 0 16px 30px rgba(0,0,0,.35);
  border-color: rgba(255,255,255,.08);
}
html.dark .nav-link[aria-current="page"]{ color: #a78bfa !important; }
html.dark #featuredNewsContainer article:hover{ box-shadow: 0 16px 30px rgba(0,0,0,.35); }
html.dark #upcomingEventsContainer > div:hover{ background-color: rgba(79,70,229,.12); }

/* ===================================================================================== */
/* =========================== أنماط السلايد المتسلسل للبنود =========================== */

/* بانل البنود: تحسين الانزلاق عند تغيير المحتوى */
[id^="clauses-panel-"]{
  will-change: max-height;
  background: transparent;
}

/* محتوى الشريحة */
#criteriaList [id^="slide-"] > .clause-card{
  background: var(--bg-soft);
  border: 1px solid rgba(0,0,0,.06);
  border-radius: 1rem;
  padding: 1.25rem;
}

/* نقاط السلايد (dots) */
#criteriaList [id^="dots-"]{ user-select: none; }
#criteriaList [id^="dots-"] button{
  inline-size: 10px;
  block-size: 10px;
  border-radius: 999px;
  background: #d1d5db;
  transition: transform .2s ease, background-color .2s ease, box-shadow .2s ease;
  border: 0;
  outline: none;
}
#criteriaList [id^="dots-"] button:hover{ background: #9ca3af; }
#criteriaList [id^="dots-"] button:focus-visible{
  box-shadow: 0 0 0 3px rgba(79,70,229,.35);
}
#criteriaList [id^="dots-"] button.is-active{
  background: var(--brand-indigo);
  transform: scale(1.1);
}

/* شريط التقدّم — خارج Tailwind لألوان العلامة */
[id^="progress-"]{
  background: linear-gradient(90deg, var(--brand-indigo), var(--brand-purple));
}

/* أزرار السابق/التالي داخل البنود */
#criteriaList [data-prev],
#criteriaList [data-next]{
  transition: background-color .2s ease, box-shadow .2s ease, transform .15s ease;
}
#criteriaList [data-prev]:active,
#criteriaList [data-next]:active{
  transform: translateY(1px) scale(.98);
}

/* نصوص مساعدة داخل الشريحة */
.clause-hint{ color: var(--text-muted); font-size: .9rem; }

/* تأكيد اتجاه RTL للأيقونات (chevrons) إن لزم */
html[dir="rtl"] .fa-chevron-right{ transform: none; }
html[dir="rtl"] .fa-chevron-left{ transform: none; }

/* ===================================================================================== */
/* ============================ مودال فيديو البداية ============================ */

#introVideoModal{
  opacity: 0;
  pointer-events: none;
  transition: opacity .25s ease;
}
#introVideoModal.is-open{
  opacity: 1;
  pointer-events: auto;
}
/* زر الإغلاق في المودال */
#introVideoClose{
  box-shadow: 0 1px 2px rgba(0,0,0,.08);
  transition: background-color .2s ease, box-shadow .2s ease, transform .15s ease;
}
#introVideoClose:active{
  transform: translateY(1px) scale(.98);
}

/* فيديو المودال */
#introVideo{
  display: block;
  inline-size: 100%;
  block-size: auto;
}

/* ===================================================================================== */
/* ========== تحسينات صغيرة أخرى ========== */
.container-std{ max-width: 1200px; }
.text-muted{ color: var(--text-muted); }

/* صور الأنشطة (حواف ناعمة) */
.activity-card img{
  object-fit: cover;
  border-bottom-left-radius: .75rem;
  border-bottom-right-radius: .75rem;
}

/* روابط سريعة في الشريط الجانبي */
.quick-links a{
  transition: color .15s ease, transform .15s ease;
}
.quick-links a:hover{ color: var(--brand-indigo); transform: translateX(-2px); }

/* عناصر تفاعلية عامة */
a, button{ -webkit-tap-highlight-color: transparent; }
